    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    &#x3C;title>مكتبة الرواد - الصوة | متجر الكتب والمستلزمات المدرسية&#x3C;/title>
    <meta name="description" content="متجر مكتبة الرواد - أكبر مجموعة من الكتب الدراسية والمستلزمات المكتبية بأفضل الأسعار">
    <!-- PWA Configuration -->
    <meta name="theme-color" content="#1e3d59">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="مكتبة الرواد">
    <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/rawad-store/rawad-store.github.io/main/icon-192x192.png">
    <link rel="manifest" href="/manifest.json">
    <!-- Meta Tags for Social Media Sharing -->
    <meta property="og:title" content="مكتبة الرواد - الصوة | متجر الكتب والمستلزمات المدرسية">
    <meta property="og:description" content="مكتبة الرواد توفر أكبر مجموعة من الكتب الدراسية والمستلزمات المكتبية. اطلب خدمات الطباعة والتصوير واستلمها بسهولة .">
    <meta property="og:image" content="https://raw.githubusercontent.com/rawad-store/rawad-store.github.io/main/preview.jpg">
    <meta property="og:url" content="https://rawad-store.github.io/">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="ar_AR">
    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="مكتبة الرواد - الصوة | متجر الكتب والمستلزمات المدرسية">
    <meta name="twitter:description" content="أكبر مجموعة من الكتب الدراسية والمستلزمات المكتبية.">
    <meta name="twitter:image" content="https://raw.githubusercontent.com/rawad-store/rawad-store.github.io/main/preview.jpg">
    <!-- Preload critical resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style" onload="this.onload=null;this.rel=&#x27;stylesheet&#x27;">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&#x26;display=swap" rel="stylesheet">
    &#x3C;style>
        /* CSS Variables for consistent theming */
        :root {
            --primary-color: #1e3d59;
            --secondary-color: #ff6b35;
            --accent-color: #f7931e;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --warning-color: #ffc107;
            --info-color: #17a2b8;
            --light-color: #f8f9fa;
            --dark-color: #343a40;
            --white-color: #ffffff;
            --gray-100: #f8f9fa;
            --gray-200: #e9ecef;
            --gray-300: #dee2e6;
            --gray-400: #ced4da;
            --gray-500: #adb5bd;
            --gray-600: #6c757d;
            --gray-700: #495057;
            --gray-800: #343a40;
            --gray-900: #212529;
            --whatsapp-color: #25D366;
            --facebook-color: #1877F2;
            --instagram-color: #E4405F;
            --shadow-sm: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
            --shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
            --shadow-lg: 0 1rem 3rem rgba(0, 0, 0, 0.175);
            --border-radius: 12px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --header-height: 80px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--gray-800);
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            direction: rtl;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Enhanced Button Styles */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            font-size: 0.95rem;
            font-weight: 600;
            text-align: center;
            white-space: nowrap;
            cursor: pointer;
            border: 2px solid transparent;
            border-radius: var(--border-radius);
            text-decoration: none;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            background: linear-gradient(45deg, transparent, transparent);
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary { 
            background: linear-gradient(135deg, var(--primary-color), #2a5a87);
            color: white; 
            box-shadow: 0 4px 15px rgba(30, 61, 89, 0.3);
        }

        .btn-secondary { 
            background: linear-gradient(135deg, var(--secondary-color), #ff8c5a);
            color: white; 
            box-shadow: 0 4px 15px rgba(255, 107, 53, 0.3);
        }

        .btn-success { 
            background: linear-gradient(135deg, var(--success-color), #34ce57);
            color: white; 
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }

        .btn-outline-primary { 
            background: transparent; 
            color: var(--primary-color); 
            border-color: var(--primary-color);
            backdrop-filter: blur(10px);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .btn:active {
            transform: translateY(-1px);
        }

        /* Enhanced Header */
        .header-top {
            background: linear-gradient(135deg, var(--primary-color), #2a5a87);
            color: white;
            padding: 15px 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header-top::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 20"><defs><pattern id="grain" width="100" height="20" patternUnits="userSpaceOnUse"><circle cx="10" cy="10" r="1" fill="rgba(255,255,255,0.1)"></circle></pattern></defs><rect width="100" height="20" fill="url(%23grain)"></rect></svg>');
            opacity: 0.1;
        }

        .header-top .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            position: relative;
            z-index: 1;
        }

        .contact-info {
            display: flex;
            align-items: center;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
        }

        .contact-item:hover {
            transform: translateY(-2px);
            color: var(--accent-color);
        }

        .social-links {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .social-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            color: white;
            text-decoration: none;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .social-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 50%;
            transform: scale(0);
            transition: transform 0.3s ease;
        }

        .social-link:hover::before {
            transform: scale(1);
        }

        .social-link.facebook::before { background: var(--facebook-color); }
        .social-link.whatsapp::before { background: var(--whatsapp-color); }
        .social-link.instagram::before { background: var(--instagram-color); }

        .social-link:hover {
            transform: translateY(-3px) scale(1.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .social-link i {
            position: relative;
            z-index: 1;
        }

        .location-text {
            color: white;
            margin: 0 10px;
            font-size: 0.9rem;
        }

        /* Enhanced Main Header */
        .header-main {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            padding: 1rem 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header-main .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: var(--transition);
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .logo-img {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
            box-shadow: 0 8px 25px rgba(30, 61, 89, 0.3);
            position: relative;
            overflow: hidden;
        }

        .logo-img::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: rotate(45deg);
            animation: logoShine 3s infinite;
        }

        @keyframes logoShine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            50% { transform: translateX(100%) translateY(100%) rotate(45deg); }
            100% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
        }

        .logo-text h1 {
            color: var(--primary-color);
            font-size: 1.5rem;
            margin-bottom: 0.3rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo-text p {
            color: var(--gray-600);
            font-size: 0.8rem;
            font-weight: 500;
        }

        /* Enhanced Search Bar */
        .search-bar {
            flex: 1;
            max-width: 500px;
            margin: 0 2rem;
            position: relative;
        }

        .search-container {
            position: relative;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            transition: var(--transition);
        }

        .search-container:focus-within {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(30, 61, 89, 0.2);
            border-color: var(--primary-color);
        }

        .search-input {
            width: 100%;
            padding: 0.9rem 4rem 0.9rem 1.5rem;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            background: transparent;
            color: var(--gray-800);
            transition: var(--transition);
        }

        .search-input:focus {
            outline: none;
        }

        .search-input::placeholder {
            color: var(--gray-500);
        }

        .search-btn {
            position: absolute;
            left: 8px;
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(30, 61, 89, 0.3);
        }

        .search-btn:hover {
            transform: translateY(-50%) scale(1.1);
            box-shadow: 0 6px 20px rgba(30, 61, 89, 0.4);
        }

        /* Enhanced Header Actions */
        .header-actions {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .header-action {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--gray-700);
            text-decoration: none;
            transition: var(--transition);
            position: relative;
            padding: 0.5rem;
            border-radius: var(--border-radius);
        }

        .header-action:hover {
            color: var(--primary-color);
            background: rgba(30, 61, 89, 0.1);
            transform: translateY(-2px);
        }

        .header-action .icon-container {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .header-action .badge {
            background: linear-gradient(135deg, var(--secondary-color), #ff8c5a);
            color: white;
            font-size: 0.7rem;
            padding: 0.2rem 0.4rem;
            border-radius: 50%;
            min-width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            top: -8px;
            right: -8px;
            box-shadow: 0 2px 8px rgba(255, 107, 53, 0.4);
            animation: badgePulse 2s infinite;
        }

        @keyframes badgePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .whatsapp-header {
            background: linear-gradient(135deg, var(--whatsapp-color), #20a558);
            color: white;
            padding: 0.6rem 1.2rem;
            border-radius: 50px;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 600;
            transition: var(--transition);
            box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3);
            position: relative;
            overflow: hidden;
        }

        .whatsapp-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .whatsapp-header:hover::before {
            left: 100%;
        }

        .whatsapp-header:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(37, 211, 102, 0.4);
        }

        /* Enhanced Navigation */
        .navbar {
            background: linear-gradient(135deg, var(--primary-color), #2a5a87);
            padding: 0;
            position: relative;
            overflow: hidden;
        }

        .navbar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 20"><defs><pattern id="nav-pattern" width="100" height="20" patternUnits="userSpaceOnUse"><circle cx="10" cy="10" r="1" fill="rgba(255,255,255,0.05)"></circle></pattern></defs><rect width="100" height="20" fill="url(%23nav-pattern)"></rect></svg>');
        }

        .nav-menu {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
            position: relative;
            z-index: 1;
        }

        .nav-item {
            position: relative;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 1.5rem;
            color: white;
            text-decoration: none;
            transition: var(--transition);
            border-bottom: 3px solid transparent;
            position: relative;
            font-weight: 500;
        }

        .nav-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.1);
            transform: scaleX(0);
            transform-origin: right;
            transition: transform 0.3s ease;
        }

        .nav-link:hover::before,
        .nav-link.active::before {
            transform: scaleX(1);
            transform-origin: left;
        }

        .nav-link:hover,
        .nav-link.active {
            border-bottom-color: var(--accent-color);
            transform: translateY(-2px);
        }

        .nav-link i {
            font-size: 1rem;
        }

        /* Enhanced Dropdown */
        .dropdown-menu {
            position: absolute;
            top: 100%;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            min-width: 250px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
            border-radius: var(--border-radius);
            overflow: hidden;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-20px);
            transition: var(--transition);
            z-index: 1000;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .nav-item:hover .dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-item {
            display: block;
            padding: 1rem 1.5rem;
            color: var(--gray-700);
            text-decoration: none;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            transition: var(--transition);
            position: relative;
            font-weight: 500;
        }

        .dropdown-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--primary-color);
            transform: scaleY(0);
            transition: transform 0.3s ease;
        }

        .dropdown-item:hover::before {
            transform: scaleY(1);
        }

        .dropdown-item:hover {
            background: rgba(30, 61, 89, 0.05);
            color: var(--primary-color);
            padding-right: 2rem;
        }

        /* Enhanced Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 4rem 0;
            margin-bottom: 3rem;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><defs><radialGradient id="hero-gradient"><stop offset="0%" stop-color="rgba(255,255,255,0.1)"></stop><stop offset="100%" stop-color="transparent"></stop></radialGradient></defs><circle cx="200" cy="200" r="300" fill="url(%23hero-gradient)"></circle><circle cx="800" cy="800" r="400" fill="url(%23hero-gradient)"></circle></svg>');
            opacity: 0.3;
        }

        .hero-content {
            text-align: center;
            position: relative;
            z-index: 1;
        }

        .hero h2 {
            font-size: 2.5rem;
            margin-bottom: 1.2rem;
            font-weight: 900;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            animation: heroTitleSlide 1s ease-out;
        }

        @keyframes heroTitleSlide {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero p {
            font-size: 1.1rem;
            margin-bottom: 2rem;
            opacity: 0.95;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            animation: heroTextSlide 1s ease-out 0.3s both;
        }

        @keyframes heroTextSlide {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 0.95;
                transform: translateY(0);
            }
        }

        .hero-cta {
            display: flex;
            gap: 1.2rem;
            justify-content: center;
            flex-wrap: wrap;
            animation: heroCTASlide 1s ease-out 0.6s both;
        }

        @keyframes heroCTASlide {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Enhanced Sections */
        .section {
            margin: 3rem 0;
            position: relative;
        }

        .section-title {
            font-size: 2rem;
            margin-bottom: 2.5rem;
            color: var(--primary-color);
            text-align: center;
            font-weight: 700;
            position: relative;
            display: inline-block;
            width: 100%;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: linear-gradient(135deg, var(--secondary-color), var(--accent-color));
            border-radius: 2px;
        }

        /* Enhanced Categories */
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .category-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
            border: 1px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.6s;
            z-index: 1;
        }

        .category-card:hover::before {
            left: 100%;
        }

        .category-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            border-color: var(--primary-color);
        }

        .category-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.2rem;
            color: white;
            font-size: 1.8rem;
            box-shadow: 0 8px 25px rgba(30, 61, 89, 0.3);
            transition: var(--transition);
            position: relative;
            z-index: 2;
        }

        .category-card:hover .category-icon {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 12px 35px rgba(30, 61, 89, 0.4);
        }

        .category-card h3 {
            color: var(--primary-color);
            margin-bottom: 0.8rem;
            font-size: 1.2rem;
            font-weight: 600;
            position: relative;
            z-index: 2;
        }

        .category-card p {
            color: var(--gray-600);
            font-size: 0.9...(truncated 100693 characters)...
(--gray-500);">
                        <i class="fas fa-search" style="margin-left: 0.5rem;"></i>
                        <span>لا توجد نتائج</span>
                    
                `;
                suggestionsContainer.style.display = 'block';
            }
        }

        function hideSearchSuggestions() {
            const suggestionsContainer = document.getElementById('searchSuggestions');
            if (suggestionsContainer) {
                suggestionsContainer.style.display = 'none';
            }
        }

        function selectSearchSuggestion(productName) {
            document.getElementById('searchInput').value = productName;
            hideSearchSuggestions();
            performSearch();
        }

        function performSearch() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase().trim();
            if (searchTerm === '') {
                renderProducts(currentFilter);
                return;
            }

            const filteredProducts = products.filter(product => 
                product.name.toLowerCase().includes(searchTerm) ||
                product.description.toLowerCase().includes(searchTerm)
            );

            const grid = document.getElementById('productsGrid');
            if (!grid) return;

            if (filteredProducts.length === 0) {
                grid.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 3rem; color: var(--gray-500);">
                        <i class="fas fa-search" style="font-size: 3.5rem; margin-bottom: 1rem; opacity: 0.5;"></i>
                        <h3 style="color: var(--primary-color); margin-bottom: 0.8rem;">لم يتم العثور على منتجات تطابق "${searchTerm}"</h3>
                        <p style="margin-bottom: 1.5rem;">جرب البحث بكلمات مختلفة أو تصفح التصنيفات</p>
                        <button class="btn btn-primary" onclick="clearSearch()">
                            <i class="fas fa-undo"></i> عرض جميع المنتجات
                        </button>
                    </div>
                `;
            } else {
                grid.innerHTML = filteredProducts.map(product => {
                    const finalPrice = product.discount > 0 
                        ? product.price - (product.price * product.discount / 100)
                        : product.price;
                        
                    return `
                    <div class="product-card fade-in" data-category="${product.category}">
                        <div class="product-image">
                            ${getCategoryIcon(product.category)}
                            ${product.badge ? `<span class="product-badge">${product.badge}</span>` : ''}
                        </div>
                        <div class="product-info">
                            <h3 class="product-title">${product.name}</h3>
                            <div class="product-price">
                                ${product.discount > 0 ? `
                                    <span class="discount-badge">خصم ${product.discount}%</span>
                                    <span class="original-price">${product.price.toFixed(2)} جنيه</span>
                                ` : ''}
                                <span class="final-price">${finalPrice.toFixed(2)} جنيه</span>
                            </div>
                            <div class="product-rating">
                                <div class="stars">
                                    ${'★'.repeat(product.rating)}${'☆'.repeat(5-product.rating)}
                                </div>
                                <span style="color: var(--gray-600); font-size: 0.9rem;">(${product.rating}.0)</span>
                            </div>
                            <p class="product-description">${product.description}</p>
                            <div class="product-actions">
                                <button class="add-to-cart" onclick="addToCart(${product.id})">
                                    <i class="fas fa-cart-plus"></i> أضف للسلة
                                </button>
                                <button class="wishlist-btn ${wishlist.includes(product.id) ? &#x27;active&#x27; : &#x27;&#x27;}" onclick="toggleWishlist(${product.id})" title="${wishlist.includes(product.id) ? &#x27;إزالة من المفضلة&#x27; : &#x27;إضافة للمفضلة&#x27;}">
                                    <i class="fas fa-heart"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    `;
                }).join('');
            }
            
            animateProductCards();
            
            // Scroll to products section
            const productsSection = document.querySelector('#products');
            if (productsSection) {
                productsSection.scrollIntoView({ behavior: 'smooth' });
            }
        }

        function clearSearch() {
            document.getElementById('searchInput').value = '';
            renderProducts(currentFilter);
        }

        // 11. وظائف مساعدة أخرى
        function toggleMobileMenu() {
            const navMenu = document.getElementById('navMenu');
            const toggleBtn = document.querySelector('.mobile-menu-toggle');
            
            navMenu.classList.toggle('active');
            
            if (navMenu.classList.contains('active')) {
                toggleBtn.innerHTML = '<i class="fas fa-times"></i>';
            } else {
                toggleBtn.innerHTML = '<i class="fas fa-bars"></i>';
            }
        }

        function showNotification(message, type = 'info') {
            document.querySelectorAll('.notification').forEach(n => n.remove());
            
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            
            const icons = {
                success: 'check-circle',
                info: 'info-circle',
                warning: 'exclamation-triangle',
                error: 'times-circle'
            };
            
            notification.innerHTML = `
                <div style="display: flex; align-items: center; gap: 0.8rem;">
                    <i class="fas fa-${icons[type]}" style="font-size: 1.2rem;"></i>
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 4000);
        }

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        function showLoading() {
            document.getElementById('loadingOverlay').style.display = 'flex';
        }

        function hideLoading() {
            document.getElementById('loadingOverlay').style.display = 'none';
        }

        // 12. إدارة بيانات العميل
        function loadCustomerData() {
            const savedData = localStorage.getItem('customerData');
            if (savedData) {
                try {
                    customerData = JSON.parse(savedData);
                } catch (e) {
                    console.error('Failed to parse saved customer data', e);
                }
            }
        }

        function showCustomerForm() {
            // إذا كان النموذج معروضًا بالفعل، لا تقم بعرضه مرة أخرى
            if (document.getElementById('customerFormOverlay')) {
                return;
            }

            // إنشاء النموذج
            const formHtml = `
                <div id="customerFormOverlay" style="
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0, 0, 0, 0.7);
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    z-index: 10000;
                    font-family: &#x27;Cairo&#x27;, &#x27;Segoe UI&#x27;, Tahoma, Geneva, Verdana, sans-serif;
                ">
                    <div style="
                        background: white;
                        padding: 30px;
                        border-radius: 15px;
                        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
                        width: 90%;
                        max-width: 500px;
                        text-align: center;
                        max-height: 90vh;
                        overflow-y: auto;
                    ">
                        <h2 style="color: #2c3e50; margin-bottom: 25px; font-size: 24px;">
                            📝 بيانات الطلب
                        </h2>
                        
                        <div style="margin-bottom: 20px; text-align: right;">
                            <label style="display: block; margin-bottom: 8px; font-weight: bold; color: #34495e;">
                                👤 اسم العميل:
                            </label>
                            <input type="text" id="customerNameInput" value="${customerData.name}" placeholder="اكتب اسمك هنا..." style="
                                width: 100%;
                                padding: 12px;
                                border: 2px solid #bdc3c7;
                                border-radius: 8px;
                                font-size: 16px;
                                box-sizing: border-box;
                                text-align: right;
                                font-family: &#x27;Cairo&#x27;, sans-serif;
                            ">
                            <small style="color: #e74c3c; display: none;" id="nameError">يرجى إدخال اسم العميل</small>
                        </div>

                        <div style="margin-bottom: 20px; text-align: right;">
                            <label style="display: block; margin-bottom: 8px; font-weight: bold; color: #34495e;">
                                📅 التاريخ (اختياري):
                            </label>
                            <input type="date" id="customDateInput" value="${customerData.customDate}" style="
                                width: 100%;
                                padding: 12px;
                                border: 2px solid #bdc3c7;
                                border-radius: 8px;
                                font-size: 16px;
                                box-sizing: border-box;
                                font-family: &#x27;Cairo&#x27;, sans-serif;
                            ">
                            <small style="color: #7f8c8d; font-size: 12px;">
                                اتركه فارغاً لاستخدام التاريخ الحالي
                            </small>
                        </div>

                        <div style="margin-bottom: 20px; text-align: right;">
                            <label style="display: block; margin-bottom: 8px; font-weight: bold; color: #34495e;">
                                🕒 الوقت (اختياري):
                            </label>
                            <input type="time" id="customTimeInput" value="${customerData.customTime}" style="
                                width: 100%;
                                padding: 12px;
                                border: 2px solid #bdc3c7;
                                border-radius: 8px;
                                font-size: 16px;
                                box-sizing: border-box;
                                font-family: &#x27;Cairo&#x27;, sans-serif;
                            ">
                            <small style="color: #7f8c8d; font-size: 12px;">
                                اتركه فارغاً لاستخدام الوقت الحالي
                            </small>
                        </div>

                        <div style="margin-bottom: 30px; text-align: right;">
                            <label style="display: block; margin-bottom: 8px; font-weight: bold; color: #34495e;">
                                ✏️ ملاحظات (اختياري):
                            </label>
                            &#x3C;textarea id="customerNotesInput" placeholder="اكتب أي تعليمات إضافية..." style="
                                width: 100%;
                                padding: 12px;
                                border: 2px solid #bdc3c7;
                                border-radius: 8px;
                                font-size: 16px;
                                box-sizing: box;
                                min-height: 80px;
                                resize: vertical;
                                text-align: right;
                                font-family: 'Cairo', sans-serif;
                            ">${customerData.notes}&#x3C;/textarea>
                        </div>
                        <div style="display: flex; gap: 15px; justify-content: center;">
                            <button onclick="submitCustomerForm()" style="
                                background: #27ae60;
                                color: white;
                                border: none;
                                padding: 12px 25px;
                                border-radius: 8px;
                                cursor: pointer;
                                font-size: 16px;
                                font-weight: bold;
                                transition: all 0.3s;
                                font-family: &#x27;Cairo&#x27;, sans-serif;
                            " onmouseover="this.style.backgroundColor=&#x27;#2ecc71&#x27;" onmouseout="this.style.backgroundColor=&#x27;#27ae60&#x27;">
                                ✅ متابعة الطلب
                            </button>
<p><button onclick="closeCustomerForm()" style="
background: #e74c3c;
color: white;
border: none;
padding: 12px 25px;
border-radius: 8px;
cursor: pointer;
font-size: 16px;
font-weight: bold;
transition: all 0.3s;
font-family: &#x27;Cairo&#x27;, sans-serif;
" onmouseover="this.style.backgroundColor=&#x27;#c0392b&#x27;" onmouseout="this.style.backgroundColor=&#x27;#e74c3c&#x27;">
❌ إلغاء
</button></p>
                        </div>
                    </div>
                </div>
            `;
<p>// إضافة النموذج إلى الصفحة
document.body.insertAdjacentHTML('beforeend', formHtml);</p>
<p>// التركيز على حقل الاسم
document.getElementById('customerNameInput').focus();</p>
<p>// إضافة مستمعين للأحداث للتحقق من الصحة أثناء الكتابة
const nameInput = document.getElementById('customerNameInput');
const nameError = document.getElementById('nameError');</p>
<p>nameInput.addEventListener('input', function() {
if (this.value.trim()) {
this.style.borderColor = '#bdc3c7';
nameError.style.display = 'none';
}
});
}</p>
<p>function closeCustomerForm() {
const overlay = document.getElementById('customerFormOverlay');
if (overlay) {
overlay.remove();
}
}</p>
<p>function submitCustomerForm() {
const nameInput = document.getElementById('customerNameInput');
const dateInput = document.getElementById('customDateInput');
const timeInput = document.getElementById('customTimeInput');
const notesInput = document.getElementById('customerNotesInput');
const nameError = document.getElementById('nameError');</p>
<p>// التحقق من إدخال الاسم
if (!nameInput.value.trim()) {
nameInput.style.borderColor = '#e74c3c';
nameError.style.display = 'block';
nameInput.focus();
return;
}</p>
<p>// حفظ البيانات
customerData.name = nameInput.value.trim();
customerData.customDate = dateInput.value;
customerData.customTime = timeInput.value;
customerData.notes = notesInput.value.trim();</p>
<p>// حفظ البيانات في localStorage
try {
localStorage.setItem('customerData', JSON.stringify(customerData));
} catch (e) {
console.error('Failed to save customer data', e);
}</p>
<p>// إغلاق النموذج
closeCustomerForm();</p>
<p>// متابعة عملية الشراء
proceedWithCheckout();
}</p>
<p>// 13. الدفع والطلبات
function checkout() {
if (cart.length === 0) {
showNotification('سلة التسوق فارغة', 'error');
return;
}</p>
<p>showLoading();</p>
<p>// إظهار نموذج بيانات العميل
showCustomerForm();</p>
<p>hideLoading();
}</p>
<p>function proceedWithCheckout() {
showLoading();</p>
<p>let customerName = customerData.name || "عميل كريم";
let now = new Date();
let date, time;</p>
<p>// استخدام التاريخ المخصص أو الحالي
if (customerData.customDate) {
const customDate = new Date(customerData.customDate);
date = customDate.toLocaleDateString('ar-EG', {
weekday: 'long',
year: 'numeric',
month: 'long',
day: 'numeric'
});
} else {
date = now.toLocaleDateString('ar-EG', {
weekday: 'long',
year: 'numeric',
month: 'long',
day: 'numeric'
});
}</p>
<p>// استخدام الوقت المخصص أو الحالي
if (customerData.customTime) {
// تحويل الوقت من صيغة 24 ساعة إلى 12 ساعة
const [hours, minutes] = customerData.customTime.split(':');
const timeObj = new Date();
timeObj.setHours(parseInt(hours), parseInt(minutes));
time = timeObj.toLocaleTimeString('ar-EG', {
hour: '2-digit',
minute: '2-digit',
hour12: true
});
} else {
time = now.toLocaleTimeString('ar-EG', {
hour: '2-digit',
minute: '2-digit',
hour12: true
});
}</p>
<p>let message = <code>🌟 مرحباً بكم بمتجر الرواد يا ${customerName}! 🌟\n\n</code>;
message += <code>📅 التاريخ: ${date}\n🕒 الوقت: ${time}\n\n</code>;
message += <code>🛒 تفاصيل طلبك:\n\n</code>;</p>
<p>let total = 0;
let totalBeforeDiscount = 0;</p>
<p>cart.forEach((item, index) => {
const itemTotal = item.price * item.quantity;
const itemTotalBeforeDiscount = item.originalPrice * item.quantity;
total += itemTotal;
totalBeforeDiscount += itemTotalBeforeDiscount;</p>
<p>message += <code>✨ ${index + 1}. ${item.name}\n</code>;
message += <code>   🔢 الكمية: ${item.quantity}\n</code>;</p>
<p>if (item.discount > 0) {
message += <code>   💲 السعر الأصلي: ${itemTotalBeforeDiscount} جنيه\n</code>;
message += <code>   🎉 بعد الخصم: ${itemTotal} جنيه\n</code>;
message += <code>   💰 التوفير: ${itemTotalBeforeDiscount - itemTotal} جنيه\n</code>;
} else {
message += <code>   💲 السعر: ${itemTotal} جنيه\n</code>;
}</p>
<p>message += <code>\n</code>;
});</p>
<p>message += <code>📊 الإجمالي قبل الخصم: ${totalBeforeDiscount} جنيه\n</code>;
message += <code>🎊 الإجمالي بعد الخصم: ${total} جنيه\n</code>;</p>
<p>if (totalBeforeDiscount > total) {
message += <code>🌟 وفرت معنا: ${totalBeforeDiscount - total} جنيه 🌟\n</code>;
}</p>
<p>if (customerData.notes) {
message += <code>\n✏️ ملاحظات العميل: ${customerData.notes}\n</code>;
}</p>
<p>message += <code>\n🏠 العنوان: أمام سنترال الصوة - بالمجمع\n\n</code>;
message += <code>شكراً يا ${customerName} على ثقتك بنا ❤️😊</code>;</p>
<p>const whatsappUrl = <code>https://wa.me/201126630356?text=${encodeURIComponent(message)}</code>;</p>
<p>// حل لتجنب popup blocker: إنشاء عنصر <a> مخفي ومحاكاة نقرة
var link = document.createElement('a');
link.href = whatsappUrl;
link.target = '_blank';
link.rel = 'noopener noreferrer'; // للأمان
document.body.appendChild(link);
link.click();
document.body.removeChild(link);</a></p><a>
<p>hideLoading();
closeCart();
showNotification('تم توجيهك إلى واتساب لإتمام الطلب', 'success');</p>
<p>// مسح السلة بعد إتمام الطلب
clearCart();
}</p>
<p>// 14. PWA Service Worker Registration
if ('serviceWorker' in navigator &#x26;&#x26; 'PushManager' in window) {
window.addEventListener('load', function() {
navigator.serviceWorker.register('/service-worker.js')
.then(function(registration) {
console.log('Service Worker registered with scope: ', registration.scope);</p>
<p>// Request permission for notifications
Notification.requestPermission().then(function(permission) {
if (permission === 'granted') {
console.log('Notification permission granted.');
}
});
})
.catch(function(error) {
console.error('Service Worker registration failed: ', error);
});
});
}</p>
<p>// 15. PWA Install Prompt
let deferredPrompt;
window.addEventListener('beforeinstallprompt', (e) => {
e.preventDefault();
deferredPrompt = e;
showInstallButton(); // عرض زر التثبيت تلقائيًا
});</p>
<p>function showInstallButton() {
// يمكنك إضافة زر للتثبيت هنا
const installBtn = document.createElement('button');
installBtn.textContent = 'تثبيت التطبيق';
installBtn.style.position = 'fixed';
installBtn.style.bottom = '20px';
installBtn.style.left = '20px';
installBtn.style.zIndex = '1000';
installBtn.style.padding = '10px 20px';
installBtn.style.background = '#1e3d59';
installBtn.style.color = 'white';
installBtn.style.border = 'none';
installBtn.style.borderRadius = '5px';
installBtn.style.cursor = 'pointer';
document.body.appendChild(installBtn);</p>
<p>installBtn.addEventListener('click', (e) => {
installBtn.style.display = 'none';
deferredPrompt.prompt();
deferredPrompt.userChoice.then((choiceResult) => {
if (choiceResult.outcome === 'accepted') {
console.log('User accepted the install prompt');
} else {
console.log('User dismissed the install prompt');
}
deferredPrompt = null;
});
});
}</p>
<p>// 16. Offline Detection
window.addEventListener('offline', function() {
showNotification('أنت غير متصل بالإنترنت. بعض الميزات قد تكون محدودة.', 'warning');
});</p>
<p>window.addEventListener('online', function() {
showNotification('تم استعادة الاتصال بالإنترنت.', 'success');
});</p>
<p>// 17. Add special offers banner
function showSpecialOffer() {
const banner = document.createElement('div');
banner.style.cssText = <code>                position: fixed;                 top: 0;                 left: 0;                 right: 0;                 background: linear-gradient(45deg, #2193b0, #6dd5ed);                 color: white;                 text-align: center;                 padding: 10px;                 z-index: 3000;                 font-weight: bold;                 animation: slideDown 0.5s ease;            </code>;
banner.innerHTML = <code>                📚✨ أهلاً بكم في مكتبة الرواد 🎁 كل ما تحتاجه في مكان واحد ✨                     &#x3C;button onclick="this.parentElement.remove()" style="background: none; border: none; color: white; float: left; font-size: 18px; cursor: pointer;">×&#x3C;/button>            </code>;</p>
<p>document.body.insertBefore(banner, document.body.firstChild);</p>
<p>setTimeout(() => {
if (banner.parentElement) {
banner.remove();
}
}, 10000);
}</p>
<p>setTimeout(showSpecialOffer, 3000);
&#x3C;/script></p>


</a></document>
<document filename="admin.txt">



    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    &#x3C;title>نظام إدارة المنتجات - مكتبة الرواد&#x3C;/title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    &#x3C;style>
        :root {
            --primary-color: #1e3d59;
            --primary-light: #2a5a87;
            --secondary-color: #ff6b35;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --warning-color: #ffc107;
            --info-color: #17a2b8;
            --light-color: #f8f9fa;
            --dark-color: #343a40;
            --gray-color: #6c757d;
            --border-radius: 10px;
            --box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }
<ul>
<li>{
margin: 0;
padding: 0;
box-sizing: border-box;
font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}</li>
</ul>
<p>body {
background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
color: #333;
line-height: 1.6;
min-height: 100vh;
padding: 20px;
position: relative;
}</p>
<p>.container {
max-width: 1200px;
margin: 0 auto;
padding: 20px;
}</p>
<p>header {
background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
color: white;
padding: 1.5rem;
border-radius: var(--border-radius);
margin-bottom: 2rem;
text-align: center;
box-shadow: var(--box-shadow);
position: relative;
overflow: hidden;
}</p>
<p>header::before {
content: "";
position: absolute;
top: -50%;
left: -50%;
width: 200%;
height: 200%;
background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
transform: rotate(30deg);
}</p>
<p>h1 {
margin-bottom: 0.5rem;
font-size: 2.2rem;
position: relative;
}</p>
<p>.header-subtitle {
font-size: 1.1rem;
opacity: 0.9;
}</p>
<p>.admin-actions {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
gap: 1rem;
margin-bottom: 2rem;
}</p>
<p>.btn {
padding: 1rem 1.5rem;
border: none;
border-radius: var(--border-radius);
cursor: pointer;
font-weight: 600;
transition: var(--transition);
display: flex;
align-items: center;
justify-content: center;
gap: 0.5rem;
text-align: center;
font-size: 1rem;
box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}</p>
<p>.btn-primary {
background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
color: white;
}</p>
<p>.btn-success {
background: linear-gradient(135deg, var(--success-color), #34ce57);
color: white;
}</p>
<p>.btn-danger {
background: linear-gradient(135deg, var(--danger-color), #e74c3c);
color: white;
}</p>
<p>.btn-warning {
background: linear-gradient(135deg, var(--warning-color), #ffd761);
color: var(--dark-color);
}</p>
<p>.btn-info {
background: linear-gradient(135deg, var(--info-color), #5bc0de);
color: white;
}</p>
<p>.btn-secondary {
background: linear-gradient(135deg, #6c757d, #8a939b);
color: white;
}</p>
<p>.btn:hover {
transform: translateY(-3px);
box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
}</p>
<p>.form-container {
background: white;
padding: 2rem;
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
margin-bottom: 2rem;
position: relative;
overflow: hidden;
}</p>
<p>.form-container::before {
content: "";
position: absolute;
top: 0;
right: 0;
width: 5px;
height: 100%;
background: linear-gradient(to bottom, var(--primary-color), var(--secondary-color));
}</p>
<p>.form-title {
color: var(--primary-color);
margin-bottom: 1.5rem;
padding-bottom: 0.5rem;
border-bottom: 2px solid #f0f4f8;
position: relative;
}</p>
<p>.form-title::after {
content: "";
position: absolute;
bottom: -2px;
right: 0;
width: 60px;
height: 2px;
background: var(--secondary-color);
}</p>
<p>.form-group {
margin-bottom: 1.5rem;
}</p>
<p>label {
display: block;
margin-bottom: 0.5rem;
font-weight: 600;
color: var(--primary-color);
}</p>
<p>input, select, textarea {
width: 100%;
padding: 0.9rem;
border: 1px solid #ddd;
border-radius: var(--border-radius);
font-size: 1rem;
transition: var(--transition);
}</p>
<p>input:focus, select:focus, textarea:focus {
outline: none;
border-color: var(--primary-color);
box-shadow: 0 0 0 3px rgba(30, 61, 89, 0.1);
}</p>
<p>textarea {
min-height: 120px;
resize: vertical;
}</p>
<p>.form-actions {
display: flex;
gap: 1rem;
margin-top: 1.5rem;
}</p>
<p>.products-section {
background: white;
padding: 2rem;
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
margin-bottom: 2rem;
}</p>
<p>.section-title {
color: var(--primary-color);
margin-bottom: 1.5rem;
padding-bottom: 0.5rem;
border-bottom: 2px solid #f0f4f8;
position: relative;
}</p>
<p>.section-title::after {
content: "";
position: absolute;
bottom: -2px;
right: 0;
width: 60px;
height: 2px;
background: var(--secondary-color);
}</p>
<p>.products-grid {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
gap: 1.5rem;
}</p>
<p>.product-card {
background: white;
border-radius: var(--border-radius);
overflow: hidden;
box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
transition: var(--transition);
border: 1px solid #eee;
position: relative;
}</p>
<p>.product-card:hover {
transform: translateY(-5px);
box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
}</p>
<p>.product-badge {
position: absolute;
top: 15px;
left: 15px;
background: var(--secondary-color);
color: white;
padding: 0.3rem 0.8rem;
border-radius: 20px;
font-size: 0.8rem;
font-weight: 600;
z-index: 10;
}</p>
<p>.product-image {
height: 200px;
background: linear-gradient(135deg, #f0f4f8 0%, #d9e1eb 100%);
display: flex;
align-items: center;
justify-content: center;
color: #a0aec0;
font-size: 2.5rem;
position: relative;
overflow: hidden;
}</p>
<p>.product-image img {
width: 100%;
height: 100%;
object-fit: cover;
}</p>
<p>.product-image::after {
content: "";
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: linear-gradient(to bottom, rgba(255,255,255,0.1), rgba(0,0,0,0.05));
}</p>
<p>.product-info {
padding: 1.5rem;
}</p>
<p>.product-title {
font-size: 1.2rem;
font-weight: 700;
margin-bottom: 0.5rem;
color: var(--primary-color);
}</p>
<p>.product-price {
font-size: 1.2rem;
font-weight: 700;
color: #28a745;   /* أخضر للسعر */
margin-bottom: 0.5rem;
display: flex;
align-items: center;
flex-wrap: wrap;
gap: 0.5rem;
}</p>
<p>.original-price {
text-decoration: line-through;
color: var(--gray-color);
font-size: 0.9rem;
}</p>
<p>.discount-badge {
background: var(--danger-color);
color: white;
padding: 0.2rem 0.5rem;
border-radius: 4px;
font-size: 0.8rem;
}</p>
<p>.product-category {
display: inline-block;
padding: 0.3rem 0.8rem;
background: #e9ecef;
border-radius: 20px;
font-size: 0.8rem;
margin-bottom: 1rem;
color: var(--gray-color);
}</p>
<p>.product-description {
color: var(--gray-color);
margin-bottom: 1rem;
font-size: 0.9rem;
line-height: 1.5;
}</p>
<p>.product-rating {
margin-bottom: 1rem;
color: #ffc107;
display: flex;
align-items: center;
gap: 0.5rem;
}</p>
<p>.rating-text {
color: var(--gray-color);
font-size: 0.9rem;
}</p>
<p>.product-actions {
display: flex;
gap: 0.5rem;
}</p>
<p>.btn-sm {
padding: 0.5rem 1rem;
font-size: 0.9rem;
}</p>
<p>.notification {
position: fixed;
top: 20px;
right: 20px;
padding: 1rem 1.5rem;
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
z-index: 1000;
transform: translateX(100%);
transition: var(--transition);
display: flex;
align-items: center;
gap: 0.5rem;
max-width: 350px;
}</p>
<p>.notification.show {
transform: translateX(0);
}</p>
<p>.notification-success {
background: var(--success-color);
color: white;
}</p>
<p>.notification-error {
background: var(--danger-color);
color: white;
}</p>
<p>.notification-info {
background: var(--info-color);
color: white;
}</p>
<p>.hidden {
display: none;
}</p>
<p>.empty-state {
grid-column: 1 / -1;
text-align: center;
padding: 3rem;
color: var(--gray-color);
background: white;
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
}</p>
<p>.empty-state i {
font-size: 4rem;
margin-bottom: 1.5rem;
opacity: 0.5;
}</p>
<p>.empty-state h3 {
margin-bottom: 1rem;
color: var(--dark-color);
}</p>
<p>.code-modal {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.7);
display: flex;
align-items: center;
justify-content: center;
z-index: 2000;
padding: 20px;
backdrop-filter: blur(5px);
opacity: 0;
visibility: hidden;
transition: var(--transition);
}</p>
<p>.code-modal.active {
opacity: 1;
visibility: visible;
}</p>
<p>.code-content {
background: white;
padding: 2rem;
border-radius: var(--border-radius);
width: 90%;
max-width: 800px;
max-height: 80vh;
overflow-y: auto;
box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
position: relative;
transform: translateY(50px);
transition: var(--transition);
}</p>
<p>.code-modal.active .code-content {
transform: translateY(0);
}</p>
<p>.code-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 1.5rem;
padding-bottom: 1rem;
border-bottom: 1px solid #eee;
}</p>
<p>.close-btn {
background: var(--danger-color);
color: white;
border: none;
border-radius: 50%;
width: 40px;
height: 40px;
display: flex;
align-items: center;
justify-content: center;
cursor: pointer;
font-size: 1.2rem;
transition: var(--transition);
}</p>
<p>.close-btn:hover {
background: #c82333;
transform: rotate(90deg);
}</p>
<p>.code-body {
background: #f8f9fa;
padding: 1.5rem;
border-radius: var(--border-radius);
overflow-x: auto;
font-family: 'Courier New', monospace;
white-space: pre-wrap;
max-height: 400px;
overflow-y: auto;
line-height: 1.5;
border: 1px solid #e9ecef;
margin-bottom: 1.5rem;
}</p>
<p>.code-actions {
display: flex;
gap: 1rem;
justify-content: flex-end;
flex-wrap: wrap;
}</p>
<p>.footer {
text-align: center;
margin-top: 3rem;
padding: 1.5rem;
color: var(--gray-color);
font-size: 0.9rem;
border-top: 1px solid #eee;
}</p>
<p>.code-tabs {
display: flex;
margin-bottom: 1rem;
border-bottom: 1px solid #ddd;
overflow-x: auto;
}</p>
<p>.code-tab {
padding: 0.8rem 1.5rem;
cursor: pointer;
background: #f8f9fa;
border: 1px solid transparent;
border-bottom: none;
margin-right: 0.5rem;
border-radius: 5px 5px 0 0;
transition: var(--transition);
white-space: nowrap;
}</p>
<p>.code-tab.active {
background: white;
border-color: #ddd;
color: var(--primary-color);
font-weight: 600;
}</p>
<p>.copy-btn {
position: relative;
overflow: hidden;
}</p>
<p>.copy-btn.copied::before {
content: '✓';
position: absolute;
top: 0;
left: 0;
right: 0;
bottom: 0;
background: var(--success-color);
display: flex;
align-items: center;
justify-content: center;
color: white;
z-index: 10;
}</p>
<p>.image-upload-container {
margin-bottom: 1.5rem;
border: 2px dashed #ddd;
border-radius: var(--border-radius);
padding: 1.5rem;
text-align: center;
transition: var(--transition);
}</p>
<p>.image-upload-container:hover {
border-color: var(--primary-color);
}</p>
<p>.image-upload-label {
display: block;
cursor: pointer;
color: var(--primary-color);
font-weight: 600;
}</p>
<p>.image-upload-label i {
font-size: 2rem;
margin-bottom: 0.5rem;
display: block;
color: var(--primary-light);
}</p>
<p>.image-preview {
margin-top: 1rem;
display: none;
max-width: 100%;
border-radius: var(--border-radius);
overflow: hidden;
position: relative;
}</p>
<p>.image-preview img {
width: 100%;
max-height: 200px;
object-fit: contain;
}</p>
<p>.remove-image-btn {
position: absolute;
top: 10px;
left: 10px;
background: var(--danger-color);
color: white;
border: none;
border-radius: 50%;
width: 30px;
height: 30px;
display: flex;
align-items: center;
justify-content: center;
cursor: pointer;
font-size: 0.9rem;
transition: var(--transition);
}</p>
<p>.remove-image-btn:hover {
background: #c82333;
transform: scale(1.1);
}</p>
<p>.image-size-warning {
font-size: 0.8rem;
color: var(--gray-color);
margin-top: 0.5rem;
}</p>
<p>.search-container {
margin-bottom: 1.5rem;
display: flex;
gap: 1rem;
}</p>
<p>.search-input {
flex: 1;
padding: 0.9rem;
border: 1px solid #ddd;
border-radius: var(--border-radius);
font-size: 1rem;
}</p>
<p>.filter-buttons {
display: flex;
gap: 0.5rem;
margin-bottom: 1.5rem;
flex-wrap: wrap;
}</p>
<p>.filter-btn {
padding: 0.5rem 1rem;
background: #e9ecef;
border: none;
border-radius: var(--border-radius);
cursor: pointer;
transition: var(--transition);
}</p>
<p>.filter-btn.active {
background: var(--primary-color);
color: white;
}</p>
<p>.filter-btn:hover {
background: var(--primary-light);
color: white;
}</p>
<p>@media (max-width: 768px) {
.admin-actions {
grid-template-columns: 1fr;
}</p>
<p>.products-grid {
grid-template-columns: 1fr;
}</p>
<p>.form-actions, .code-actions {
flex-direction: column;
gap: 0.75rem;
}</p>
<p>.form-actions .btn, .code-actions .btn {
width: 100%;
margin-bottom: 0.5rem;
}</p>
<p>.search-container {
flex-direction: column;
}
}</p>
<p>[dir="rtl"] .fa {
transform: scaleX(-1);
}
&#x3C;/style></p>


    </document>
        
            نظام إدارة المنتجات - مكتبة الرواد
            إضافة وتعديل المنتجات المعروضة في المتجر
        
        
            <button class="btn btn-primary" onclick="showProductForm()">
                <i class="fas fa-plus"></i> إضافة منتج جديد
            </button>
            <button class="btn btn-success" onclick="syncWithMainPage()">
                <i class="fas fa-sync"></i> مزامنة مع الصفحة الرئيسية
            </button>
            <button class="btn btn-info" onclick="showCodeModal()">
                <i class="fas fa-code"></i> نسخ أكواد المنتجات
            </button>
            <button class="btn btn-warning" onclick="addSampleProducts()">
                <i class="fas fa-download"></i> إضافة منتجات نموذجية
            </button>
            <button class="btn btn-danger" onclick="clearAllProducts()">
                <i class="fas fa-trash"></i> حذف جميع المنتجات
            </button>
            <button class="btn btn-secondary" onclick="exportProducts()">
                <i class="fas fa-file-export"></i> تصدير المنتجات
            </button>
            <button class="btn btn-secondary" onclick="window.location.href=&#x27;index.html&#x27;">
                <i class="fas fa-home"></i> العودة للمتجر
            </button>
        
        
            إضافة منتج جديد
            
                اسم المنتج
                
            
            
                السعر الأصلي (جنيه)
                
            
            
                نسبة الخصم (%)
                
            
            
                التصنيف
                <select id="productCategory" required>
                    <option value="books">الكتب الدراسية</option>
                    <option value="stationery">المستلزمات المكتبية</option>
                    <option value="bags">الحقائب المدرسية</option>
                    <option value="gifts">الهدايا</option>
                </select>
            
            
                الوصف
                <textarea id="productDescription" required placeholder="أدخل وصف المنتج"></textarea>
            
            
                التقييم (من 5)
                
            
            
                علامة مميزة (اختياري)
                
            
            
                صورة المنتج
                
                    
                        
                        انقر لرفع صورة المنتج
                        
                    
                    الحجم الأقصى للصورة: 5MB، الأبعاد: 2000x2000 بكسل
                    
                        <img id="previewImage" src="" alt="معاينة الصورة">
                        <button type="button" class="remove-image-btn" onclick="removeImage()">
                            <i class="fas fa-times"></i>
                        </button>
                    
                
            
            
            
            
                <button class="btn btn-success" onclick="saveProduct()">
                    <i class="fas fa-save"></i> حفظ المنتج
                </button>
                <button class="btn btn-danger" onclick="hideProductForm()">
                    <i class="fas fa-times"></i> إلغاء
                </button>
            
        
        
            المنتجات الحالية
            
                
                <button class="btn btn-info" onclick="clearSearch()">
                    <i class="fas fa-times"></i> مسح البحث
                </button>
            
            
                <button class="filter-btn active" onclick="setCategoryFilter(&#x27;all&#x27;)">الكل</button>
                <button class="filter-btn" onclick="setCategoryFilter(&#x27;books&#x27;)">الكتب الدراسية</button>
                <button class="filter-btn" onclick="setCategoryFilter(&#x27;stationery&#x27;)">المستلزمات المكتبية</button>
                <button class="filter-btn" onclick="setCategoryFilter(&#x27;bags&#x27;)">الحقائب المدرسية</button>
                <button class="filter-btn" onclick="setCategoryFilter(&#x27;gifts&#x27;)">الهدايا</button>
            
            
                
            
        
        
            © 2025 نظام إدارة المنتجات - مكتبة الرواد. جميع الحقوق محفوظة.
            تم التطوير بواسطة فريق الثقيلة المتخصص
            
                سياسة الخصوصية | 
                شروط الخدمة
            
        
    
    
        
        
        <button 12902="" class="close-btn" oncl...(truncated="" characters)...span="">(${product.rating}.0)
                        </button>
                        ${sanitizeInput(product.description)}
                        
                            <button class="btn btn-primary btn-sm" onclick="editProduct(${product.id})">
                                <i class="fas fa-edit"></i> تعديل
                            </button>
                            <button class="btn btn-danger btn-sm" onclick="deleteProduct(${product.id})">
                                <i class="fas fa-trash"></i> حذف
                            </button>
                        
                    
                
                `;
            }).join('');
        }
// إنشاء تقييم النجوم
function generateStarRating(rating) {
let stars = '';
for (let i = 1; i <= 5; i++) {
if (i <= rating) {
stars += '';
} else {
stars += '';
}
}
return stars;
}
// إظهار نموذج إضافة منتج
function showProductForm() {
document.getElementById('productForm').classList.remove('hidden');
document.getElementById('formTitle').textContent = 'إضافة منتج جديد';
document.getElementById('productId').value = '';
document.getElementById('productName').value = '';
document.getElementById('productPrice').value = '';
document.getElementById('productDiscount').value = '0';
document.getElementById('productCategory').value = 'books';
document.getElementById('productDescription').value = '';
document.getElementById('productRating').value = '4';
document.getElementById('productBadge').value = '';
document.getElementById('productImageData').value = '';
document.getElementById('imagePreview').style.display = 'none';
document.getElementById('previewImage').src = '';
}
// إخفاء نموذج المنتج
function hideProductForm() {
document.getElementById('productForm').classList.add('hidden');
}
// معالجة رفع الصورة
function handleImageUpload(event) {
const file = event.target.files[0];
if (!file) return;
if (file.size > 5 * 1024 * 1024) {
showNotification('حجم الصورة يجب أن يكون أقل من 5MB', 'error');
event.target.value = '';
return;
}
if (!file.type.match('image.*')) {
showNotification('يرجى اختيار ملف صورة فقط', 'error');
event.target.value = '';
return;
}
const img = new Image();
img.onload = function() {
if (img.width > 2000 || img.height > 2000) {
showNotification('أبعاد الصورة كبيرة جدًا، يرجى اختيار صورة أصغر', 'error');
event.target.value = '';
return;
}
const reader = new FileReader();
reader.onload = function(e) {
document.getElementById('productImageData').value = e.target.result;
document.getElementById('previewImage').src = e.target.result;
document.getElementById('imagePreview').style.display = 'block';
};
reader.readAsDataURL(file);
};
img.src = URL.createObjectURL(file);
}
// إزالة الصورة المرفوعة
function removeImage() {
document.getElementById('productImageData').value = '';
document.getElementById('previewImage').src = '';
document.getElementById('imagePreview').style.display = 'none';
document.getElementById('productImage').value = '';
}
// حفظ المنتج
function saveProduct() {
const productId = document.getElementById('productId').value;
const name = sanitizeInput(document.getElementById('productName').value.trim());
const price = parseFloat(document.getElementById('productPrice').value);
const discount = parseInt(document.getElementById('productDiscount').value) || 0;
const category = document.getElementById('productCategory').value;
const description = sanitizeInput(document.getElementById('productDescription').value.trim());
const rating = parseInt(document.getElementById('productRating').value);
const badge = sanitizeInput(document.getElementById('productBadge').value.trim());
const imageData = document.getElementById('productImageData').value;
if (!name || isNaN(price) || !category || !description || !rating) {
showNotification('يرجى ملء جميع الحقول المطلوبة', 'error');
return;
}
if (price < 0) { // السماح بـ 0 لكن منع القيم السالبة
showNotification('السعر لا يمكن أن يكون سالباً', 'error');
return;
}
if (rating < 1 || rating > 5) {
showNotification('التقييم يجب أن يكون بين 1 و5', 'error');
return;
}
let products = JSON.parse(localStorage.getItem('rawad-products')) || [];
const existingProduct = products.find(p => p.name === name && p.id != productId);
if (existingProduct) {
showNotification('اسم المنتج موجود بالفعل', 'error');
return;
}
if (productId && !confirm('هل أنت متأكد من تعديل هذا المنتج؟')) {
return;
}
if (productId) {
const index = products.findIndex(p => p.id == productId);
if (index !== -1) {
products[index] = {
id: parseInt(productId),
name,
price,
discount,
category,
description,
rating,
badge,
image: imageData || products[index].image || ''
};
showNotification('تم تعديل المنتج بنجاح');
}
} else {
const newId = products.length > 0 ? Math.max(...products.map(p => p.id)) + 1 : 1;
products.push({
id: newId,
name,
price,
discount,
category,
description,
rating,
badge,
image: imageData || ''
});
showNotification('تم إضافة المنتج بنجاح');
}
localStorage.setItem('rawad-products', JSON.stringify(products));
hideProductForm();
loadProducts();
}
// تعديل منتج
function editProduct(id) {
const products = JSON.parse(localStorage.getItem('rawad-products')) || [];
const product = products.find(p => p.id === id);
if (product) {
document.getElementById('productForm').classList.remove('hidden');
document.getElementById('formTitle').textContent = 'تعديل المنتج';
document.getElementById('productId').value = product.id;
document.getElementById('productName').value = product.name;
document.getElementById('productPrice').value = product.price;
document.getElementById('productDiscount').value = product.discount || 0;
document.getElementById('productCategory').value = product.category;
document.getElementById('productDescription').value = product.description;
document.getElementById('productRating').value = product.rating;
document.getElementById('productBadge').value = product.badge || '';
document.getElementById('productImageData').value = product.image || '';
if (product.image) {
document.getElementById('previewImage').src = product.image;
document.getElementById('imagePreview').style.display = 'block';
} else {
document.getElementById('imagePreview').style.display = 'none';
}
}
}
// حذف منتج
function deleteProduct(id) {
if (confirm('هل أنت متأكد من حذف هذا المنتج؟')) {
let products = JSON.parse(localStorage.getItem('rawad-products')) || [];
products = products.filter(p => p.id !== id);
localStorage.setItem('rawad-products', JSON.stringify(products));
showNotification('تم حذف المنتج بنجاح');
loadProducts();
}
}
// حذف جميع المنتجات
function clearAllProducts() {
if (confirm('هل أنت متأكد من حذف جميع المنتجات؟ لا يمكن التراجع عن هذا الإجراء.')) {
localStorage.removeItem('rawad-products');
showNotification('تم حذف جميع المنتجات');
loadProducts();
}
}
// تصدير المنتجات
function exportProducts() {
const products = JSON.parse(localStorage.getItem('rawad-products')) || [];
if (products.length === 0) {
showNotification('لا توجد منتجات لتصديرها', 'error');
return;
}
const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(products));
const downloadAnchor = document.createElement('a');
downloadAnchor.setAttribute('href', dataStr);
downloadAnchor.setAttribute('download', 'products.json');
downloadAnchor.click();
showNotification('تم تصدير المنتجات بنجاح');
}
// مزامنة مع الصفحة الرئيسية
function syncWithMainPage() {
showNotification('تمت المزامنة بنجاح مع الصفحة الرئيسية');
}
// تصفية المنتجات حسب البحث
function filterProducts() {
currentSearchTerm = document.getElementById('searchInput').value;
loadProducts();
}
// مسح البحث
function clearSearch() {
document.getElementById('searchInput').value = '';
currentSearchTerm = '';
loadProducts();
}
// تعيين تصنيف الفلتر
function setCategoryFilter(category) {
currentCategoryFilter = category;
document.querySelectorAll('.filter-btn').forEach(btn => {
btn.classList.remove('active');
});
const activeBtn = document.querySelector(.filter-btn[onclick="setCategoryFilter('${category}')"]);
if (activeBtn) {
activeBtn.classList.add('active');
}
loadProducts();
}
// إظهار نافذة الأكواد
function showCodeModal() {
const products = JSON.parse(localStorage.getItem('rawad-products')) || [];
if (products.length === 0) {
showNotification('لا توجد منتجات لإنشاء أكواد لها', 'error');
return;
}
const jsCode = generateJSCode(products);
document.getElementById('jsCodeContent').textContent = jsCode;
const htmlCode = generateHTMLCode(products);
document.getElementById('htmlCodeContent').textContent = htmlCode;
document.getElementById('codeModal').classList.add('active');
document.body.style.overflow = 'hidden';
document.querySelectorAll('.copy-btn').forEach(btn => {
btn.classList.remove('copied');
});
}
// توليد كود JavaScript
function generateJSCode(products) {
return `// ==================================================
// نظام إدارة المنتجات - مكتبة الرواد
// الأكواد التالية جاهزة للنسخ واللصق في الصفحة الرئيسية
// ==================================================
// 1. مصفوفة المنتجات
let products = ${JSON.stringify(products, null, 4)};
// 2. دوال المساعدة
function getCategoryIcon(category) {
const icons = {
'books': '',
'stationery': '',
'bags': '',
'gifts': ''
};
return icons[category] || '';
}
function loadProducts(category = 'all') {
const grid = document.getElementById('productsGrid');
if (!grid) return;
let filteredProducts = category === 'all' ? products : products.filter(p => p.category === category);
if (filteredProducts.length === 0) {
grid.innerHTML = 'لا توجد منتجات في هذا التصنيف حالياًسيتم إضافة منتجات جديدة قريباً استفسر عن المنتجات';
return;
}
grid.innerHTML = filteredProducts.map(product => {
const finalPrice = product.discount > 0
? product.price - (product.price * product.discount / 100)
: product.price;
return `
        
            
                \${product.image ? \`<img src="\${product.image}" alt="\${product.name}">\` : getCategoryIcon(product.category)}
                \${product.badge ? \`\${product.badge}\` : ''}
            
            
                \${product.name}
                
                    \${product.discount > 0 ? \`
                        خصم \${product.discount}%
                        \${product.price.toFixed(2)} جنيه
                    \` : ''}
                    \${finalPrice.toFixed(2)} جنيه
                
                
                    
                        \${'★'.repeat(product.rating)}\${'☆'.repeat(5-product.rating)}
                    
                    (\${product.rating}.0)
                
                \${product.description}
                
                    <button class="add-to-cart" onclick="addToCart(\${product.id})">
                        <i class="fas fa-cart-plus"></i> أضف للسلة
                    </button>
                    <button class="wishlist-btn" onclick="toggleWishlist(\${product.id})" title="إضافة للمفضلة">
                        <i class="fas fa-heart"></i>
                    </button>
                
            
        
        \`;
    }).join('');
updateFilterButtons(category);
animateProductCards();
}
function filterProducts(category) {
loadProducts(category);
}
function updateFilterButtons(activeCategory) {
document.querySelectorAll('.filter-btn').forEach(btn => {
btn.classList.remove('active');
});
const activeBtn = document.querySelector(`.filter-btn[onclick="filterProducts('${activeCategory}')"]`);
if (activeBtn) {
activeBtn.classList.add('active');
}
}
function animateProductCards() {
setTimeout(() => {
document.querySelectorAll('.product-card').forEach((card, index) => {
setTimeout(() => {
card.style.opacity = '0';
card.style.transform = 'translateY(30px)';
card.style.transition = 'all 0.6s ease';
setTimeout(() => {
card.style.opacity = '1';
card.style.transform = 'translateY(0)';
}, 50);
}, index * 100);
});
}, 100);
}
function addToCart(productId) {
alert(`تم إضافة المنتج رقم ${productId} إلى السلة`);
}
function toggleWishlist(productId) {
const btn = document.querySelector(`.wishlist-btn[onclick="toggleWishlist(${productId})"]`);
btn.classList.toggle('active');
btn.title = btn.classList.contains('active') ? 'إزالة من المفضلة' : 'إضافة للمفضلة';
if (btn.classList.contains('active')) {
alert(`تم إضافة المنتج رقم ${productId} إلى المفضلة`);
} else {
alert(`تم إزالة المنتج رقم ${productId} من المفضلة`);
}
}
// 3. تهيئة الصفحة عند التحميل
document.addEventListener('DOMContentLoaded', function() {
loadProducts();
});`;
}
// توليد كود HTML
function generateHTMLCode(products) {
return `




    
        منتجاتنا المميزة
        
            <button class="filter-btn active" onclick="filterProducts(&#x27;all&#x27;)">الكل</button>
            <button class="filter-btn" onclick="filterProducts(&#x27;books&#x27;)">الكتب</button>
            <button class="filter-btn" onclick="filterProducts(&#x27;stationery&#x27;)">المستلزمات</button>
            <button class="filter-btn" onclick="filterProducts(&#x27;bags&#x27;)">الحقائب</button>
            <button class="filter-btn" onclick="filterProducts(&#x27;gifts&#x27;)">الهدايا</button>
        
        
            ${products.map(product => {
                const finalPrice = product.discount > 0 
                    ? product.price - (product.price * product.discount / 100)
                    : product.price;
return `
            
                
                    ${product.image ? `<img src="${product.image}" alt="${sanitizeInput(product.name)}">` : getCategoryIcon(product.category)}
                    ${product.badge ? `${sanitizeInput(product.badge)}` : ''}
                
                
                    ${sanitizeInput(product.name)}
                    
                        ${product.discount > 0 ? `
                            خصم ${product.discount}%
                            ${product.price.toFixed(2)} جنيه
                        ` : ''}
                        ${finalPrice.toFixed(2)} جنيه
                    
                    
                        
                            ${'★'.repeat(product.rating)}${'☆'.repeat(5-product.rating)}
                        
                        (${product.rating}.0)
                    
                    ${sanitizeInput(product.description)}
                    
                        <button class="add-to-cart" onclick="addToCart(${product.id})">
                            <i class="fas fa-cart-plus"></i> أضف للسلة
                        </button>
                        <button class="wishlist-btn" onclick="toggleWishlist(${product.id})" title="إضافة للمفضلة">
                            <i class="fas fa-heart"></i>
                        </button>
                    
                
            
                `;
            }).join('')}
        
    
`;
        }
// إخفاء نافذة الأكواد
function hideCodeModal() {
document.getElementById('codeModal').classList.remove('active');
document.body.style.overflow = 'auto';
}
// نسخ الأكواد
function copyCode(elementId, btnElement) {
const codeContent = document.getElementById(elementId);
const textToCopy = codeContent.textContent;
if (navigator.clipboard && window.isSecureContext) {
navigator.clipboard.writeText(textToCopy).then(() => {
showNotification('تم نسخ الأكواد بنجاح', 'success');
btnElement.classList.add('copied');
setTimeout(() => {
btnElement.classList.remove('copied');
}, 2000);
}).catch(err => {
console.error('Failed to copy: ', err);
fallbackCopyText(textToCopy, btnElement);
});
} else {
fallbackCopyText(textToCopy, btnElement);
}
}
function fallbackCopyText(text, btnElement) {
const textArea = document.createElement('textarea');
textArea.value = text;
textArea.style.position = 'fixed';
textArea.style.opacity = 0;
document.body.appendChild(textArea);
try {
textArea.select();
const successful = document.execCommand('copy');
if (successful) {
showNotification('تم نسخ الأكواد بنجاح', 'success');
btnElement.classList.add('copied');
setTimeout(() => {
btnElement.classList.remove('copied');
}, 2000);
} else {
showNotification('تعذر النسخ. يرجى نسخ النص يدويًا من النافذة.', 'error');
}
} catch (err) {
console.error('فشل في النسخ: ', err);
showNotification('تعذر النسخ. يرجى نسخ النص يدويًا من النافذة.', 'error');
} finally {
document.body.removeChild(textArea);
}
}
// التبديل بين تبويبات الأكواد
function switchCodeTab(tabId) {
document.querySelectorAll('.code-section').forEach(tab => {
tab.classList.remove('active');
});
document.querySelectorAll('.code-tab').forEach(tab => {
tab.classList.remove('active');
});
document.getElementById(tabId).classList.add('active');
const activeTab = document.querySelector(.code-tab[data-tab="${tabId}"]);
if (activeTab) {
activeTab.classList.add('active');
}
}
// إظهار الإشعارات
function showNotification(message, type = 'success') {
const notification = document.getElementById('notification');
const icon = type === 'success' ? 'fa-check-circle' :
type === 'error' ? 'fa-exclamation-circle' : 'fa-info-circle';
notification.className = notification notification-${type};
notification.innerHTML =                 <i class="fas ${icon}"></i>                 <span id="notificationMessage">${sanitizeInput(message)}</span>                 <button class="close-btn" onclick="hideNotification()">                     <i class="fas fa-times"></i>                 </button>            ;
notification.classList.add('show');
setTimeout(() => {
notification.classList.remove('show');
}, 5000);
}
// إخفاء الإشعارات
function hideNotification() {
document.getElementById('notification').classList.remove('show');
}
// الحصول على أيقونة التصنيف
function getCategoryIcon(category) {
const icons = {
'books': '',
'stationery': '',
'bags': '',
'gifts': ''
};
return icons[category] || '';
}
// الحصول على اسم التصنيف
function getCategoryName(category) {
const names = {
'books': 'الكتب الدراسية',
'stationery': 'المستلزمات المكتبية',
'bags': 'الحقائب المدرسية',
'gifts': 'الهدايا'
};
return names[category] || category;
}
</script>
